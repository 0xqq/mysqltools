---
# mysqltools 权威指南

> 主编:**蒋乐兴**
> email: **1721900707@qq.com**



## 文档结构
- [mysqltools要解决的问题](#mysqltools要解决的问题)
  - [标准化](#标准化)
  - [自动化](#自动化)
  - [排量化](#排量化)
  - [常规故障自动发现自动解决](#常规故障自动发现自动解决)

- [mysqltools快速入门](#mysqltools快速入门)
  - [mysqltools对环境的要求](#mysqltools对环境的要求)
  - [下载mysqltools](#下载mysqltools)

## mysqltools要解决的问题
**没有标准是万恶之源**
>之前有人问我 “你单单为了一个MySQL各类环境的安装配置写一个工具值得吗？”

>我问他你安装一个MySQL单机要多久、一套MHA高可用+读写分离环境要多久？如果还给要他们加上备份、监控又要多久？ 他当时说：“单机不到半个小时就可以搞定,高可用+读写分离可能要一天时间..” 

>事实上这种人肉运维的方式是有大问题的:

>**1):** 他所交付的环境质量依赖与他的心情等主观因素，有可能他心情好且时间充足的那天对MySQL的各个方面都配置的比较合理，在他不开心的那天有可能只配置了basedir + datadir 就把环境交付了；我们也更加没有办法排除那天他突发奇想把MySQL监听到了1024 或80 端口上，当然监听在这两个端口上技术上都是可行的；但是这种没有章法的操作对后面的运维影响是持久的，由于每一个环境都不一样所以在我们想做一些排量操作时就比较困难了。 如果把他比作一个厨子，那么他开心的那天做的蛋炒饭是比较好吃的，当他不开心的那天蛋炒饭就和*一样了。KFC的汉堡不会由于员工的心情而影响到口感，原因就在由他们做汉堡有**标准**、并把标准固化成**流程**、以后做汉堡的时间按流程来所以做出来的汉堡基本都
一个味。 **流程化**一方面使得KFC的汉堡质量有保证；标准化、流程化的另一个好处是“永远只做加法、不做减法” 也就是说由于标准流程的存在、所以汉堡不的品质不会没有保证(不做减法) ，当发现流程中可以改进的环节就可能进不步提升汉堡的品质(只做加法)

>**2):** 另一方面这种人肉运维不利于生产力的提升，很难想像人肉运维成百上千MySQL实例会变成什么样.


1. ### 标准化
   >多年工作经验+业内最佳实践得出的一套标准；在这样一套标准下产出的环境当然是**天生丽质**，很多MySQL的问题在建库的时间就得到了解决或是规避；

2. ### 自动化
   >mysqltools所提供的各项功能都是自动化的. 自动化环境安装、这些环境就包含 **MySQL 单机 、MySQL 高可用(mha) 、MyCAT | dble 读写分离、innodb cluster 等MySQL业界的主流环境**  自动化 **Zabbix 分布式环境的安装配置** 自动化MySQL备份计划的实施

3. ### 排量化
   >mysqltools的设计并不针对几个或十几个MySQL实例的管理而开发的、它针对的实例规模是成百上千的那种、所以排量管理是一开始就融入到mysqltools当中的

4. ### 常规故障自动发现自动解决
   >mysqltools是自带监控的、而近300+的监控项足以问题的自动发现、并针对特定问题提供有自动解决的脚本、真正做到自动发现自动解决，mysqltools的目标是不
   >让dba的时间去做重复的事(就是想让你有多点时间喝咖啡)


## mysqltools快速入门

1. ### mysqltools对环境的要求
   >A: mysqltools 是在**centos-7.x** 系统下开发测试通过的，centos-6上有可能不兼容(6和7的差别还是比较大的)
   
   >B: mysqltools 是用**python3.x.x** 环境下开发完成的，python2与python3不兼容
   
   >C: mysqltools 为了方便使用 mysqltools把一些软件的源码包也打包了进来，比如说python3.6.2 zabbix3.x 所以你的   centos-7.x上配置好**yum**
   这样mysqltools 就可以自动的去解决类似gcc 这样的依赖了
   
   **总的来说你的操作系统应该是centos7.x 并配置好yum，别的事mysqltools会自动解决**

1. ### 下载mysqltools
   >a: mysqltools是百分百开源的、你可以从github下它、下载地它。下载地址 
   https://github.com/Neeky/mysqltools/archive/master.zip
   
   >b: 下载并解压到**/usr/local/**

   ```python
   wget https://github.com/Neeky/mysqltools/archive/master.zip
   unzip maser.zip
   mv mysqltools-master /opt/mysqltools
   
   ```


   





